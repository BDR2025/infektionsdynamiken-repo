index.js im Detail

index.js bündelt die zentralen Schnittstellen der Base Schicht. Es dient als stabiler Einstiegspunkt und macht interne Pfade unsichtbar. Dadurch können andere Teile der Anwendung den Director und den Event Bus zuverlässig importieren ohne die Dateistruktur zu kennen.

Die Datei exportiert die Fabrikfunktion des Directors und den Bus als Namensraum. So bleibt der Zugriff klar und einheitlich. Änderungen an internen Dateien erfordern keine Anpassungen bei den Verbrauchern solange die Exporte gleich bleiben.

index.js hat keine Seiteneffekte. Es führt keine Berechnungen aus und verändert keinen Zustand. Das hält die Startphase schlank und verhindert unerwartetes Verhalten. Tree Shaking bleibt wirksam und nur tatsächlich genutzte Teile werden geladen.

Für den Import wird eine Import Map verwendet. Der Alias für die Base Schicht verweist auf index.js und zusätzlich auf den Ordner selbst. Dadurch funktionieren sowohl der Paket Import als auch gezielte tiefe Importe. Wenn die Import Map sauber gesetzt ist lädt die Anwendung konsistent in allen Ansichten.

index.js erfüllt damit eine besondere Rolle im ESM (EcmaScript Modules) Schema. Es ist die verbindende Stelle zwischen den internen Modulen und dem nach außen sichtbaren Importpfad. So entsteht ein klarer Anker im Modulsystem der Anwendung.

Damit bietet index.js einen festen Zugriffspunkt auf Director und Bus. Es schützt vor brüchigen Relativpfaden und erleichtert Refactorings. Die Oberflächen und Präsentationsmodule können sich darauf verlassen dass dieser Einstiegspunkt stabil bleibt.